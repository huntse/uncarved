<!DOCTYPE html
PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <!-- turn this into html5 -->
    <head><script src="//archive.org/includes/analytics.js?v=cf34f82" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app39.us.archive.org';v.server_ms=213;archive_analytics.send_pageview({});});</script><script type="text/javascript" src="/_static/js/playback.bundle.js?v=R56vIgLu" charset="utf-8"></script>
<script type="text/javascript" src="/_static/js/wombat.js?v=cRqOKCOw" charset="utf-8"></script>
<script type="text/javascript">
if (window._WBWombatInit) {
  wbinfo = {}
  wbinfo.url = "http://www.uncarved.com/articles/shell_history";
  wbinfo.timestamp = "20160512183145";
  wbinfo.request_ts = "20160512183145";
  wbinfo.prefix = "https://web.archive.org/web/";
  wbinfo.mod = "if_";
  wbinfo.is_framed = false;
  wbinfo.is_live = false;
  wbinfo.coll = "web";
  wbinfo.proxy_magic = "";
  wbinfo.static_prefix = "/_static/";
  wbinfo.enable_auto_fetch = true;
  wbinfo.auto_fetch_worker_prefix = "https://web.archive.org/web/";
  wbinfo.wombat_ts = "20160512183145";
  wbinfo.wombat_sec = "1463077905";
  wbinfo.wombat_scheme = "https";
  wbinfo.wombat_host = "www.uncarved.com";
  wbinfo.ignore_prefixes = ["/__wb/",
                            "/_static/",
                            "/web/",
                            "http://analytics.archive.org/",
                            "https://analytics.archive.org/",
                            "//analytics.archive.org/",
                            "http://archive.org/",
                            "https://archive.org/",
                            "//archive.org/",
                            "http://faq.web.archive.org/",
                            "http://web.archive.org/",
                            "https://web.archive.org/"
                            ];
  wbinfo.wombat_opts = {};
  window._WBWombatInit(wbinfo);
}
__wm.init("https://web.archive.org/web");
</script>
<link rel="stylesheet" type="text/css" href="/_static/css/banner-styles.css?v=_99BHQfY" />
<link rel="stylesheet" type="text/css" href="/_static/css/iconochive.css?v=qtvMKcIJ" />
<!-- End Wayback Rewrite JS Include -->

        <meta http-equiv="content-type" content="text/html;charset=utf-8"/>
        <meta name="Author" content="Sean Hunter"/>
        <meta name="MSSmartTagsPreventParsing" content="TRUE"/>
        <meta name="description" content="Time spent learning how the unix shell works is never wasted - <p>One of the easiest ways to improve your productivity on unix systems is to become acqu..."/>
		<link rel="stylesheet" type="text/css" href="/web/20160512183145cs_/http://www.uncarved.com/static/style.css"/>
        <link rel="self" type="text/html" href="http://www.uncarved.com/articles/shell_history"/>
        <title>The Uncarved Blog: Shell Command History and Searching</title>
	</head>

	<body>
		<div id="left_menu">
			<ul>
                <li><a href="https://web.archive.org/web/20160512183145/http://www.uncarved.com/articles/shell_history">permalink</a></li>
                <li><a href="https://web.archive.org/web/20160512183145/http://www.uncarved.com/">top</a></li>
                
				<li><a href="/web/20160512183145/http://www.uncarved.com/articles/contact">contact me</a></li>
				<li><a href="/web/20160512183145/http://www.uncarved.com/login/" rel="nofollow">not logged in</a></li>
                
			</ul>
		</div>
		<div class="body">
            
			<h2>
                
                Shell Command History and Searching
			</h2>
            

            
            <div class="precis">Time spent learning how the unix shell works is never wasted</div>
            

            <p>One of the easiest ways to improve your productivity on unix systems is to become acquainted with your shell's history completion and search facilities. All of these described here are common to zsh and bash, although zsh has some additional features that bash does not. </p>
<p>Firstly, if you ever find yourself tapping the up arrow to scroll through your command history, you are living in a state of sin- either type <code>history 100</code> or something similar to actually get a history list or use Ctrl-R to do a recursive incremental search through your shell history. Secondly, learn and use some basic history completions:</p>
<ul>
<li><code>!$</code> completes to the last argument of your previous command. <code>vi file</code> followed by <code>cvs ci !$</code> edits a file and checks it in.</li>
<li><code>!*</code> completes to all the arguments of your previous command. <code>vi file1 file2 file{3,4,5}</code> followed by <code>cvs ci !*</code> edits a list of files and checks then all in.</li>
<li><code>!!</code> completes to the whole of your previous command, with args. <code>vi /etc/passwd</code> gives "permission denied? Use <code>sudo !!</code> to become rootly without retyping. </li>
</ul>
<p>There are lots more possible history completions but I use those three ten times for any one of them.  Also useful are:</p>
<ul>
<li><code>!something</code> completes to the whole of the last command I typed that began with "something".  So, for example, say I try <code>vi file</code> and get "permission denied", but I don't yet have "sudo" permission sorted out.  I become root, fix my sudoers file, then do <code>sudo !vi</code> to run the whole of the last vi command as root.</li>
<li><code>!somenumber</code> completes to the whole of a specific numbered command from my history.</li>
</ul>
<p>You can combine these with the first three constructs by adding a colon, so:</p>
<ul>
<li><code>!vi:*</code> is "all the arguments to the last <code>vi</code> command.  Perhaps I have edited some files, then done a <code>make</code> to see if they build, then I can <code>svn ci !vi:*</code> to check the changes into subversion.</li>
<li><code>!3:$</code> is the last argument to command number three from my history.</li>
</ul>
		<hr/>
        <p class="footer">
        
        <span id="tags">Tags:
            
            <a href="https://web.archive.org/web/20160512183145/http://www.uncarved.com/tags/computers">computers</a>
            
        </span>
        
        Last modified: 2006-05-17T07:35:18Z</p>
        <p class="tagline">Unless otherwise specified the contents of this page are copyright &copy; 2015 <a href="https://web.archive.org/web/20160512183145/mailto:sean@uncarved.com">Sean Hunter</a>.  This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International <a rel="license" href="https://web.archive.org/web/20160512183145/http://creativecommons.org/licenses/by-sa/4.0/">License</a>.
        <!-- figure out metadata -->
	</p>
		</div>
    </body>
</html><!--
     FILE ARCHIVED ON 18:31:45 May 12, 2016 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 07:01:24 Jul 30, 2020.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  esindex: 0.008
  LoadShardBlock: 38.634 (3)
  exclusion.robots.policy: 0.115
  captures_list: 143.259
  exclusion.robots: 0.124
  PetaboxLoader3.resolve: 49.546
  load_resource: 64.076
  PetaboxLoader3.datanode: 49.736 (4)
  RedisCDXSource: 84.901
  CDXLines.iter: 16.971 (3)
-->